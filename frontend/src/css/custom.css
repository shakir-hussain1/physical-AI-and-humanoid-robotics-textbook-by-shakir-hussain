/**
 * Custom CSS for Physical AI & Humanoid Robotics Textbook
 */

:root {
  --ifm-color-primary: #2e8555;
  --ifm-color-primary-dark: #29784c;
  --ifm-color-primary-darker: #277148;
  --ifm-color-primary-darkest: #205d3b;
  --ifm-color-primary-light: #33925d;
  --ifm-color-primary-lighter: #359962;
  --ifm-color-primary-lightest: #3cad6e;
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
}

[data-theme='dark'] {
  --ifm-color-primary: #25c2a0;
  --ifm-color-primary-dark: #21af90;
  --ifm-color-primary-darker: #1fa588;
  --ifm-color-primary-darkest: #1a8870;
  --ifm-color-primary-light: #29d5b0;
  --ifm-color-primary-lighter: #32d8b4;
  --ifm-color-primary-lightest: #4fddbf;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
}

/* Mermaid diagram styling */
.mermaid {
  text-align: center;
  margin: 1.5rem 0;
}

/* Code block enhancements */
.prism-code {
  font-size: 0.9rem;
}

/* Table styling */
table {
  display: table;
  width: 100%;
}

th, td {
  padding: 0.75rem;
}

/* Exercise styling */
h3:has(+ p > strong:first-child) {
  color: var(--ifm-color-primary);
}

/* Module card styling */
.module-card {
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
  transition: box-shadow 0.2s;
}

.module-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Learning objectives */
.learning-objectives {
  background: var(--ifm-color-emphasis-100);
  border-left: 4px solid var(--ifm-color-primary);
  padding: 1rem;
  margin: 1rem 0;
}

/* Common errors section */
.common-errors {
  background: #fff3cd;
  border-left: 4px solid #ffc107;
  padding: 1rem;
  margin: 1rem 0;
}

[data-theme='dark'] .common-errors {
  background: #332701;
}

/* ============================================= */
/* Chapter Personalization Styles */
/* ============================================= */

/* Difficulty Level Personalization */
.personalized-beginner {
  --text-complexity: 0.9;
  --content-opacity: 0.95;
}

.personalized-beginner p {
  line-height: 1.8;
}

.personalized-beginner pre,
.personalized-beginner code {
  display: none; /* Hide code for beginner level */
}

.personalized-intermediate {
  --text-complexity: 1;
  --content-opacity: 1;
}

.personalized-advanced {
  --text-complexity: 1.1;
  --content-opacity: 1;
}

.personalized-advanced p {
  line-height: 1.6;
}

.personalized-expert {
  --text-complexity: 1.2;
  --content-opacity: 1;
}

.personalized-expert p {
  line-height: 1.5;
  font-size: 1.05rem;
}

/* Content Style Personalization */
.content-style-text p {
  font-size: 1.1rem;
  line-height: 1.8;
  margin-bottom: 1.25rem;
}

.content-style-text h3 {
  margin-top: 1.5rem;
}

.content-style-visual img,
.content-style-visual .mermaid {
  display: block;
  max-width: 100%;
  margin: 1.5rem auto;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

.content-style-visual img[alt],
.content-style-visual figure {
  margin: 1.75rem auto;
}

.content-style-code pre {
  font-size: 0.95rem;
  background: var(--ifm-code-background);
  border-radius: 8px;
  padding: 1rem;
  margin: 1.5rem 0;
}

.content-style-code code {
  background: var(--ifm-code-background);
  padding: 0.2rem 0.4rem;
  border-radius: 3px;
}

/* Example Density Personalization */
.example-density-minimal .admonition {
  display: none;
}

.example-density-minimal pre:nth-of-type(n + 2) {
  display: none;
}

.example-density-moderate {
  /* Default number of examples shown */
}

.example-density-rich pre,
.example-density-rich .admonition {
  display: block !important;
}

/* Learning Pace Personalization */
.pace-concise h3 {
  margin-top: 2rem;
}

.pace-concise p {
  font-size: 0.95rem;
}

.pace-standard {
  /* Default pacing */
}

.pace-detailed p {
  line-height: 1.9;
  margin-bottom: 1.5rem;
}

.pace-detailed h3 {
  margin-top: 2.5rem;
}

.pace-detailed blockquote {
  margin: 1.5rem 0;
  padding: 1rem 1.5rem;
  border-left: 4px solid var(--ifm-color-primary);
  background: var(--ifm-color-emphasis-100);
  border-radius: 4px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .content-style-visual img,
  .content-style-visual .mermaid {
    margin: 1rem auto;
  }

  .personalized-beginner p,
  .content-style-text p {
    font-size: 1rem;
  }

  .personalized-expert p {
    font-size: 1rem;
  }

  .pace-detailed blockquote {
    padding: 0.75rem 1rem;
  }
}
